<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Clocks · DiscreteEventsCompanion.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">DiscreteEventsCompanion.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>Clocks</a><ul class="internal"><li><a class="tocitem" href="#Virtual-clocks"><span>Virtual clocks</span></a></li><li><a class="tocitem" href="#Real-time-clocks"><span>Real time clocks</span></a></li><li><a class="tocitem" href="#Parallel-clocks"><span>Parallel clocks</span></a></li><li><a class="tocitem" href="#Clock-commands"><span>Clock commands</span></a></li><li><a class="tocitem" href="#Diagnosis"><span>Diagnosis</span></a></li></ul></li><li><a class="tocitem" href="../events/">Events</a></li><li><a class="tocitem" href="../processes/">Processes</a></li><li><a class="tocitem" href="../models/">Models</a></li><li><a class="tocitem" href="../examples/examples/">Examples</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li><a class="tocitem" href="../parallel/">Parallel simulations</a></li><li><a class="tocitem" href="../benchmarks/">Benchmarks</a></li><li><a class="tocitem" href="../internals/">Internals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Clocks</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Clocks</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/pbayer/DiscreteEventsCompanion.jl/blob/master/docs/src/clocks.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Clocks"><a class="docs-heading-anchor" href="#Clocks">Clocks</a><a id="Clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Clocks" title="Permalink"></a></h1><p>In physics and most of life we <a href="https://en.wikipedia.org/wiki/Time_in_physics">measure time</a> with a clock <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>. An event sequence Γ = {γ₁, γ₂, ...} has measured times t₁ &lt; t₂ &lt; ... From that we draw inferences about causality and dependencies.</p><p>In <code>DiscreteEvents</code> we turn this on its head: A <a href="https://pbayer.github.io/DiscreteEvents.jl/dev/usage/#Clocks-1"><code>Clock</code></a> can register events and trigger them at given times or under given conditions. It doesn&#39;t measure time, it &quot;is&quot; time. We can create it, run it, stop time, run it for a while, step through time, skip from event to event, change event sequences … With it we can create, model or simulate discrete event systems (DES).</p><h2 id="Virtual-clocks"><a class="docs-heading-anchor" href="#Virtual-clocks">Virtual clocks</a><a id="Virtual-clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Virtual-clocks" title="Permalink"></a></h2><p>Virtual clocks are not constrained by any physical time measurement. They don&#39;t have to wait an hour for the next event to occur, but can right jump to it. Time is only a number and the computer executes an event sequence as fast as possible.</p><pre><code class="language-julia">julia&gt; using DiscreteEvents

julia&gt; clk = Clock()
Clock 0, thrd 1 (+ 0 ac): state=DiscreteEvents.Undefined(), t=0.0 , Δt=0.01 , prc:0
  scheduled ev:0, cev:0, sampl:0</code></pre><p>We created a new clock, running on thread 1, having time t=0.0, a sampling rate of Δt=0.01, no registered processes, no scheduled events, conditional events or sampling actions.</p><pre><code class="language-julia">julia&gt; run!(clk, 10)
&quot;run! finished with 0 clock events, 0 sample steps, simulation time: 10.0&quot;</code></pre><p>If we run the clock a duration Δt=10, it jumps immediately ahead since it has nothing to do.</p><h2 id="Real-time-clocks"><a class="docs-heading-anchor" href="#Real-time-clocks">Real time clocks</a><a id="Real-time-clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Real-time-clocks" title="Permalink"></a></h2><p>A real time clock <a href="https://pbayer.github.io/DiscreteEvents.jl/dev/usage/#DiscreteEvents.RTClock"><code>RTClock</code></a> is bound to the computer&#39;s clock and measures time in seconds [s]. We create and start it with <a href="https://pbayer.github.io/DiscreteEvents.jl/dev/usage/#DiscreteEvents.RTClock"><code>createRTClock</code></a></p><pre><code class="language-julia">julia&gt; rtc = createRTClock(0.01, 99)
Real time clock 99 on thread 8: state=DiscreteEvents.Idle(), t=0.0001193 s, T=0.01 s, prc:0
   scheduled ev:0, cev:0, sampl:0</code></pre><p>Here we have created an real time clock with id=99 and a clock resolution of T=0.01 s. It installed itself on thread 8. When the message was created, the clock had just advanced 0.0001193 s. When we query its time thereafter, it shows the time in seconds passed since startup:</p><pre><code class="language-julia">julia&gt; tau(rtc)
14.045107885001926

julia&gt; rtc.time
17.910258978001366</code></pre><p>We can schedule events to real time clocks as to virtual clocks and they will execute at their due time.</p><h2 id="Parallel-clocks"><a class="docs-heading-anchor" href="#Parallel-clocks">Parallel clocks</a><a id="Parallel-clocks-1"></a><a class="docs-heading-anchor-permalink" href="#Parallel-clocks" title="Permalink"></a></h2><h2 id="Clock-commands"><a class="docs-heading-anchor" href="#Clock-commands">Clock commands</a><a id="Clock-commands-1"></a><a class="docs-heading-anchor-permalink" href="#Clock-commands" title="Permalink"></a></h2><h2 id="Diagnosis"><a class="docs-heading-anchor" href="#Diagnosis">Diagnosis</a><a id="Diagnosis-1"></a><a class="docs-heading-anchor-permalink" href="#Diagnosis" title="Permalink"></a></h2><p>As usual in Julia you can access clock parameters by <code>clock.parameter</code>:</p><pre><code class="language-julia">julia&gt; clk                  # normally pretty printing is enabled
Clock 0, thread 1 (+ 0 ac): state=DiscreteEvents.Undefined(), t=0.0 , Δt=0.01 , prc:0
  scheduled ev:0, cev:0, sampl:0


julia&gt; clk.                 # with clk. + tab + tab you get the parameters
ac        end_time   evcount    id         processes  sc         scount     state      tev        time       tn         unit       Δt
julia&gt; clk.time             # then you can select one of them
0.0</code></pre><p>You can switch off pretty printing and then get the Julia <code>Base.show_default</code>:</p><pre><code class="language-julia">julia&gt; DiscreteEvents.prettyClock(false)

julia&gt; clk
Clock(0, DiscreteEvents.Undefined(), 0.0, , 0.01, DiscreteEvents.ClockChannel[], DiscreteEvents.Schedule(DataStructures.PriorityQueue{DiscreteEvents.DiscreteEvent,Float64,Base.Order.ForwardOrdering}(), DiscreteEvents.DiscreteCond[], DiscreteEvents.Sample[]), Dict{Any,Prc}(), 0.01, 0.0, 0.0, 0, 0)</code></pre><p>In Atom&#39;s workspace then you can access the clock&#39;s structure for further diagnosis.</p><p><img src="../img/clock.png" alt="atom workspace"/></p><ul><li>sampling rate</li><li>time units</li></ul><p>to do</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>In essence we count the number of naturally occuring periodic events to measure time: the revolution of a planet, our heart beat, the swing of a pendulum …</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><a class="docs-footer-nextpage" href="../events/">Events »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 18 July 2020 21:31">Saturday 18 July 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
